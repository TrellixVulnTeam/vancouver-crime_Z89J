<head>
  <style>
    #neighbourhoodChart g.row text {
      fill: black;
    }

    #typeChart g.row text {
      fill: black;
    }

    #monthChart .x.axis text {
      text-anchor: end !important;
      transform: rotate(-15deg);
    }
  </style>
  <link rel="shortcut icon" href="{{url_for('static', filename='assets/icon.ico')}}">
</head>
<header>
    <nav>
        <div class="nav-wrapper indigo darken-4">
          <a href="#" class="brand-logo">Vancouver Crime Dashboard</a>
    
          <ul id="nav-mobile" class="right hide-on-med-and-down">
            <li>
              <a href="https://www.linkedin.com/in/boris-tsao-8499b91b/">
                LinkedIn</a
              >
            </li>
            <li><a href="https://github.com/btsao604">GitHub</a></li>
          </ul>
        </div>
      </nav>
</header>
<body>
  

  <div class="container">
    <!-- <select class="browser-default" id="yearSelect">
      <option value="2018" selected>2018</option>
      <option value="2017">2017</option>
      <option value="2016">2016</option>
      <option value="2015">2015</option>
      <option value="2014">2014</option>
      <option value="2013">2013</option>
      <option value="2012">2012</option>
      <option value="2011">2011</option>
      <option value="2010">2010</option>
      <option value="2009">2009</option>
      <option value="2008">2008</option>
      <option value="2007">2007</option>
      <option value="2006">2006</option>
      <option value="2005">2005</option>
      <option value="2004">2004</option>
      <option value="2003">2003</option>
    </select> -->

    <div class="row">
      <div class="col s12">
        <div class="dc-data-count">
          <span class="filter-count"></span> selected out of
          <span class="total-count"></span>
          <a href="javascript:dc.filterAll(); dc.renderAll();">Reset All</a>
        </div>
      </div>
      <div class="col s7">
        <p>
          Crime by Month
          <a href="javascript:monthChart.filterAll(); dc.renderAll();">Reset</a>
        </p>
        <div id="monthChart"><span class="filter"></span></div>
        <!-- <div id="monthChart"><span class="filter"></span></div> -->
        <br />
        <p>
          Hourly Chart
          <a href="javascript:hourChart.filterAll(); dc.renderAll();">Reset</a>
        </p>
        <div id="hourChart"><span class="filter"></span></div>
      </div>

      <div class="col s5">
        <p>Crime Heatmap</p>
        <div id="mapid" style="height: 300px; width:100%"></div>
      </div>

      <div class="col s6">
        <p>
          Neighborhood Crime
          <a href="javascript:neighbourhoodChart.filterAll(); dc.renderAll();"
            >Reset</a
          >
        </p>
        <div id="neighbourhoodChart"><span class="filter"></span></div>
      </div>
      <div class="col s6">
        <p>
          Type of Crime
          <a href="javascript:typeChart.filterAll(); dc.renderAll();">Reset</a>
        </p>
        <div id="typeChart"><span class="filter"></span></div>
      </div>
      <div class="col s12">
        <p>
          This is a visualization for the city of Vancouver's crime activity
          which can be found
          <a href="https://data.vancouver.ca/datacatalogue/crime-data.htm"
            >here</a
          >. Please see the website for disclaimers and how to use the data.</p>
          <p>Note that data points where there were no coordinates provided or were offset due to privacy were removed. This includes homicide and offence against a person crimes.</p>
        </p>
      </div>
      <!-- Forms 
        - Disclaimer 
      -->
    </div>
  </div>
</body>

<link
  rel="stylesheet"
  href="{{url_for('static', filename='css/materialize.min.css')}}"
/>
<link
  rel="stylesheet"
  href="{{url_for('static', filename='css/leaflet.css')}}"
/>
<link
  rel="stylesheet"
  href="{{url_for('static', filename='css/dc.min.css')}}"
/>

<script src="{{url_for('static', filename='js/leaflet.js')}}"></script>
<script src="{{url_for('static', filename='js/leaflet-heat.js')}}"></script>
<script src="{{url_for('static', filename='js/jquery-3.3.1.min.js')}}"></script>
<script src="{{url_for('static', filename='js/materialize.min.js')}}"></script>
<script src="{{url_for('static', filename='js/lodash.js')}}"></script>
<script src="{{url_for('static', filename='js/crossfilter.min.js')}}"></script>
<script src="{{url_for('static', filename='js/d3.v5.min.js')}}"></script>
<script src="{{url_for('static', filename='js/dc.min.js')}}"></script>
<script>
  //     $(document).ready(function(){
  //       $('select').formSelect();
  //     });
  //     var year = 2018
  //     $(document).on('change', '#yearSelect', function() {
  //     var ye = $(this).val()
  //     var path = `/api/${ye}`
  //     console.log({{url_for('data',variable = ye)}});
  // });

  var timeFormat = d3.timeFormat("%H:%M");
  const data = {{ data.chart_data | safe }}
</script>
<script src="{{url_for('static', filename='js/charts.js')}}"></script>
<!-- <script src="{{url_for('static', filename='js/maps.js')}}"></script> -->
